webpackJsonp([2],{0:function(l,n,e){l.exports=e("cDNt")},cDNt:function(l,n,e){"use strict";function t(l){return C._44(0,[C._41(402653184,1,{searchComponent:0}),(l()(),C._23(0,null,null,1,"leaflet-search-zoom",[["label","Geographic Name"],["style","width: 300px; display: flex"]],null,null,null,A.g,A.c)),C._21(49152,[[1,4]],0,k.i,[k.f],{label:[0,"label"]},null)],function(l,n){l(n,2,0,"Geographic Name")},null)}function u(l){return C._44(0,[(l()(),C._23(0,null,null,1,"app-geographic-name-search",[],null,null,null,t,B)),C._21(4243456,null,0,D,[N.g],null,null)],null,null)}function i(l){return C._44(0,[(l()(),C._23(0,null,null,0,"i",[["aria-hidden","true"],["class","glyphicon glyphicon-question-sign"]],null,null,null,null,null)),(l()(),C._43(null,[" Help"]))],null,null)}function r(l){return C._44(0,[(l()(),C._43(null,["Stream"]))],null,null)}function s(l){return C._44(0,[(l()(),C._23(0,null,null,13,"tr",[],null,null,null,null,null)),C._21(278528,null,0,G.h,[C.B,C.C,C.q,C.Q],{ngClass:[0,"ngClass"]},null),C._39({onStream:0,downstream:1}),(l()(),C._43(null,["\n              "])),(l()(),C._23(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),C._43(null,["",""])),(l()(),C._43(null,["\n              "])),(l()(),C._23(0,null,null,2,"td",[],null,null,null,null,null)),(l()(),C._23(0,null,null,1,"a",[["class","btn btn-primary btn-xs"],["role","button"],["target","_report"],["title","Data Results"]],[[8,"href",4]],null,null,null,null)),(l()(),C._23(0,null,null,0,"i",[["class","fa fa-table"]],null,null,null,null,null)),(l()(),C._43(null,["\n              "])),(l()(),C._23(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),C._43(null,["",""])),(l()(),C._43(null,["\n            "]))],function(l,n){var e=n.component;l(n,1,0,l(n,2,0,e.emsLocations.onStream(n.context.$implicit),e.emsLocations.downstream(n.context.$implicit)))},function(l,n){var e=n.component;l(n,5,0,n.context.$implicit),l(n,8,0,C._26(1,"https://a100.gov.bc.ca/ext/ems/dataResultsCriteria.do?bean.p_ems_id=",n.context.$implicit,"")),l(n,12,0,e.emsStationLocalWatershedCode(n.context.$implicit))})}function o(l){return C._44(0,[(l()(),C._23(0,null,null,30,"div",[["class","table-responsive"]],null,null,null,null,null)),(l()(),C._43(null,["\n        "])),(l()(),C._23(0,null,null,27,"table",[["class","table table-bordered table-striped table-condensed"]],null,null,null,null,null)),(l()(),C._43(null,["\n          "])),(l()(),C._23(0,null,null,3,"caption",[],null,null,null,null,null)),(l()(),C._43(null,["EMS Stations "])),(l()(),C._23(0,null,null,1,"span",[["class","badge"]],null,null,null,null,null)),(l()(),C._43(null,["",""])),(l()(),C._43(null,["\n          "])),(l()(),C._23(0,null,null,13,"thead",[],null,null,null,null,null)),(l()(),C._43(null,["\n          "])),(l()(),C._23(0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),C._43(null,["ID"])),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),C._43(null,["\xa0"])),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),C._43(null,["Name"])),(l()(),C._43(null,["\n          "])),(l()(),C._43(null,["\n          "])),(l()(),C._43(null,["\n          "])),(l()(),C._23(0,null,null,4,"tbody",[],null,null,null,null,null)),(l()(),C._43(null,["\n            "])),(l()(),C._17(16777216,null,null,1,null,s)),C._21(802816,null,0,G.i,[C._5,C._0,C.B],{ngForOf:[0,"ngForOf"]},null),(l()(),C._43(null,["\n          "])),(l()(),C._43(null,["\n        "])),(l()(),C._43(null,["\n      "]))],function(l,n){l(n,27,0,n.component.emsLocations.stationIds())},function(l,n){l(n,7,0,n.component.emsLocations.stationCount())})}function a(l){return C._44(0,[(l()(),C._23(0,null,null,68,"div",[["id","riverTabContent"]],null,null,null,null,null)),(l()(),C._43(null,["\n      "])),(l()(),C._23(0,null,null,62,"div",[["class","table-responsive"]],null,null,null,null,null)),(l()(),C._43(null,["\n        "])),(l()(),C._23(0,null,null,1,"caption",[],null,null,null,null,null)),(l()(),C._43(null,["Stream"])),(l()(),C._43(null,["\n        "])),(l()(),C._23(0,null,null,56,"table",[["class","table table-bordered table-striped"]],null,null,null,null,null)),(l()(),C._43(null,["\n          "])),(l()(),C._23(0,null,null,54,"tbody",[],null,null,null,null,null)),(l()(),C._23(0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),C._43(null,["Name"])),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),C._43(null,["",""])),(l()(),C._43(null,["\n          "])),(l()(),C._43(null,["\n          "])),(l()(),C._23(0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),C._43(null,["Watershed Code"])),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),C._43(null,["",""])),(l()(),C._43(null,["\n          "])),(l()(),C._43(null,["\n          "])),(l()(),C._23(0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),C._43(null,["Local Code"])),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),C._43(null,["",""])),(l()(),C._43(null,["\n          "])),(l()(),C._43(null,["\n          "])),(l()(),C._23(0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),C._43(null,["Segment length"])),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),C._43(null,[""," km"])),(l()(),C._43(null,["\n          "])),(l()(),C._43(null,["\n          "])),(l()(),C._23(0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),C._43(null,["Upstream length"])),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),C._43(null,[""," km"])),(l()(),C._43(null,["\n          "])),(l()(),C._43(null,["\n          "])),(l()(),C._23(0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),C._43(null,["Downstream length"])),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),C._43(null,[""," km"])),(l()(),C._43(null,["\n          "])),(l()(),C._43(null,["\n        "])),(l()(),C._43(null,["\n      "])),(l()(),C._43(null,["\n      "])),(l()(),C._17(16777216,null,null,1,null,o)),C._21(16384,null,0,G.j,[C._5,C._0],{ngIf:[0,"ngIf"]},null),(l()(),C._43(null,["\n    "]))],function(l,n){l(n,67,0,n.component.emsLocations.stationCount()>0)},function(l,n){var e=n.component;l(n,16,0,e.river.properties.name),l(n,25,0,e.river.properties.fwawsc),l(n,34,0,e.river.properties.localwsc),l(n,43,0,(e.river.properties.seglen/1e3).toFixed(1)),l(n,52,0,(e.river.properties.upslen/1e3).toFixed(1)),l(n,61,0,(e.river.properties.dwnslen/1e3).toFixed(1))})}function c(l){return C._44(0,[(l()(),C._43(null,["EmsStation"]))],null,null)}function d(l){return C._44(0,[(l()(),C._23(0,null,null,54,"div",[],null,null,null,null,null)),(l()(),C._43(null,["\n      "])),(l()(),C._23(0,null,null,51,"div",[["class","table-responsive"]],null,null,null,null,null)),(l()(),C._43(null,["\n        "])),(l()(),C._23(0,null,null,48,"table",[["class","table table-bordered table-striped"]],null,null,null,null,null)),(l()(),C._43(null,["\n          "])),(l()(),C._23(0,null,null,46,"tbody",[],null,null,null,null,null)),(l()(),C._23(0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),C._43(null,["ID"])),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),C._43(null,["",""])),(l()(),C._43(null,["\n          "])),(l()(),C._43(null,["\n          "])),(l()(),C._23(0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),C._43(null,["Name"])),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),C._43(null,["",""])),(l()(),C._43(null,["\n          "])),(l()(),C._43(null,["\n          "])),(l()(),C._23(0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),C._43(null,["Watershed Code"])),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),C._43(null,["",""])),(l()(),C._43(null,["\n          "])),(l()(),C._43(null,["\n          "])),(l()(),C._23(0,null,null,7,"tr",[],null,null,null,null,null)),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),C._43(null,["Local Watershed Code"])),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),C._43(null,["",""])),(l()(),C._43(null,["\n          "])),(l()(),C._43(null,["\n          "])),(l()(),C._23(0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),C._43(null,["Actions"])),(l()(),C._43(null,["\n            "])),(l()(),C._23(0,null,null,2,"td",[],null,null,null,null,null)),(l()(),C._23(0,null,null,1,"a",[["class","btn btn-primary btn-xs"],["role","button"],["target","_report"],["title","Data Results"]],[[8,"href",4]],null,null,null,null)),(l()(),C._23(0,null,null,0,"i",[["class","fa fa-table"]],null,null,null,null,null)),(l()(),C._43(null,["\n          "])),(l()(),C._43(null,["\n        "])),(l()(),C._43(null,["\n      "])),(l()(),C._43(null,["\n    "]))],null,function(l,n){var e=n.component;l(n,13,0,e.emsStation.properties.MONITORING_LOCATION_ID),l(n,22,0,e.emsStation.properties.MONITORING_LOCATION_NAME),l(n,31,0,e.emsStationWatershedCode(e.emsStationId)),l(n,40,0,e.emsStationLocalWatershedCode(e.emsStationId)),l(n,49,0,C._26(1,"https://a100.gov.bc.ca/ext/ems/dataResultsCriteria.do?bean.p_ems_id=",e.emsStation.properties.MONITORING_LOCATION_ID,""))})}function _(l){return C._44(0,[C._41(402653184,1,{tabs:0}),(l()(),C._23(0,null,null,32,"tabset",[],[[2,"tab-container",null]],null,null,j.b,j.a)),C._21(180224,[[1,4],["tabs",4]],0,H.a,[U.a],null,null),(l()(),C._43(0,["\n  "])),(l()(),C._23(0,null,0,8,"tab",[],[[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),C._21(212992,null,0,q.a,[H.a,C.q,C.Q],null,null),(l()(),C._43(null,["\n    "])),(l()(),C._17(0,null,null,1,null,i)),C._21(16384,null,0,z.a,[C._0,q.a],null,null),(l()(),C._43(null,["\n    "])),(l()(),C._23(0,null,null,1,"p",[],null,null,null,null,null)),(l()(),C._43(null,["Click on a stream to view upstream/downstream info"])),(l()(),C._43(null,["\n  "])),(l()(),C._43(0,["\n  "])),(l()(),C._23(0,null,0,8,"tab",[],[[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),C._21(212992,null,0,q.a,[H.a,C.q,C.Q],{disabled:[0,"disabled"]},null),(l()(),C._43(null,["\n    "])),(l()(),C._17(0,null,null,1,null,r)),C._21(16384,null,0,z.a,[C._0,q.a],null,null),(l()(),C._43(null,["\n    "])),(l()(),C._17(16777216,null,null,1,null,a)),C._21(16384,null,0,G.j,[C._5,C._0],{ngIf:[0,"ngIf"]},null),(l()(),C._43(null,["\n  "])),(l()(),C._43(0,["\n  "])),(l()(),C._23(0,null,0,8,"tab",[],[[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),C._21(212992,null,0,q.a,[H.a,C.q,C.Q],{disabled:[0,"disabled"]},null),(l()(),C._43(null,["\n    "])),(l()(),C._17(0,null,null,1,null,c)),C._21(16384,null,0,z.a,[C._0,q.a],null,null),(l()(),C._43(null,["\n    "])),(l()(),C._17(16777216,null,null,1,null,d)),C._21(16384,null,0,G.j,[C._5,C._0],{ngIf:[0,"ngIf"]},null),(l()(),C._43(null,["\n  "])),(l()(),C._43(0,["\n"]))],function(l,n){var e=n.component;l(n,5,0),l(n,15,0,!e.river),l(n,21,0,e.river),l(n,25,0,!e.emsStation),l(n,31,0,e.emsStation)},function(l,n){l(n,1,0,C._37(n,2).clazz),l(n,4,0,C._37(n,5).active,C._37(n,5).addClass),l(n,14,0,C._37(n,15).active,C._37(n,15).addClass),l(n,24,0,C._37(n,25).active,C._37(n,25).addClass)})}function h(l){return C._44(0,[(l()(),C._23(0,null,null,1,"app-side-bar",[],null,null,null,_,ll)),C._21(114688,null,0,K,[J,Q],null,null)],function(l,n){l(n,1,0)},null)}function p(l){return C._44(0,[(l()(),C._23(0,null,null,1,":svg:line",[["x1","10"],["x2","40"]],[[1,"y1",0],[1,"y2",0]],null,null,null,null)),C._21(278528,null,0,G.h,[C.B,C.C,C.q,C.Q],{ngClass:[0,"ngClass"]},null)],function(l,n){l(n,1,0,n.parent.context.$implicit[2])},function(l,n){l(n,0,0,20*(n.parent.context.index+1),20*(n.parent.context.index+1))})}function m(l){return C._44(0,[(l()(),C._23(0,null,null,1,":svg:circle",[["cx","25"],["r","6"]],[[1,"cy",0]],null,null,null,null)),C._21(278528,null,0,G.h,[C.B,C.C,C.q,C.Q],{ngClass:[0,"ngClass"]},null)],function(l,n){l(n,1,0,n.parent.context.$implicit[2])},function(l,n){l(n,0,0,20*(n.parent.context.index+1))})}function f(l){return C._44(0,[(l()(),C._23(0,null,null,10,null,null,null,null,null,null,null)),(l()(),C._43(null,["\n      "])),(l()(),C._17(16777216,null,null,1,null,p)),C._21(16384,null,0,G.j,[C._5,C._0],{ngIf:[0,"ngIf"]},null),(l()(),C._43(null,["\n      "])),(l()(),C._17(16777216,null,null,1,null,m)),C._21(16384,null,0,G.j,[C._5,C._0],{ngIf:[0,"ngIf"]},null),(l()(),C._43(null,["\n      "])),(l()(),C._23(0,null,null,1,":svg:text",[["transform","translate(8,4)"],["x","40"]],[[1,"y",0]],null,null,null,null)),(l()(),C._43(null,["",""])),(l()(),C._43(null,["\n    "]))],function(l,n){l(n,3,0,"line"===n.context.$implicit[1]),l(n,6,0,"circle"===n.context.$implicit[1])},function(l,n){l(n,8,0,20*(n.context.index+1)),l(n,9,0,n.context.$implicit[0])})}function g(l){return C._44(0,[C._41(402653184,1,{legendElement:0}),(l()(),C._23(0,[[1,0],["legendElement",1]],null,7,"div",[["style","display:none;line-height:0px;margin-left:-3px"]],null,null,null,null,null)),(l()(),C._43(null,["\n  "])),(l()(),C._23(0,null,null,4,":svg:svg",[["height","265"],["style","background-color:white;border-radius: 4px;border:2px solid rgba(0,0,0,0.2)"],["width","300"]],null,null,null,null,null)),(l()(),C._43(null,["\n    "])),(l()(),C._17(16777216,null,null,1,null,f)),C._21(802816,null,0,G.i,[C._5,C._0,C.B],{ngForOf:[0,"ngForOf"]},null),(l()(),C._43(null,["\n  "])),(l()(),C._43(null,["\n"]))],function(l,n){l(n,6,0,n.component.legend)},null)}function v(l){return C._44(0,[(l()(),C._23(0,null,null,1,"app-fwa-legend",[],null,null,null,g,rl)),C._21(4243456,null,0,ul,[k.f],null,null)],null,null)}function S(l){return C._44(0,[C._41(402653184,1,{legendElement:0}),(l()(),C._23(0,null,null,20,"leaflet-map",[],null,null,null,A.f,A.b)),C._21(114688,null,0,k.e,[k.f],null,null),(l()(),C._43(null,["\n  "])),(l()(),C._23(0,null,null,1,"leaflet-esri-tiled-layer",[["name","Roads"],["url","https://maps.gov.bc.ca/arcgis/rest/services/province/roads_wm/MapServer"]],null,null,null,A.e,A.a)),C._21(114688,null,0,k.b,[k.f],{name:[0,"name"],url:[1,"url"]},null),(l()(),C._43(null,["\n  "])),(l()(),C._23(0,null,null,1,"leaflet-esri-tiled-layer",[["name","Terrain Base Map"],["url","https://maps.gov.bc.ca/arcgis/rest/services/province/web_mercator_cache/MapServer"]],null,null,null,A.e,A.a)),C._21(114688,null,0,k.b,[k.f],{name:[0,"name"],url:[1,"url"]},null),(l()(),C._43(null,["\n\n  "])),(l()(),C._23(0,null,null,1,"leaflet-wms-layer",[["basemapLayer","false"],["format","image/png"],["layers","pub:WHSE_WATER_MANAGEMENT.WLS_POD_LICENCE_SP"],["name","Points of Diversion (Scale Dependent)"],["styles","Points_of_Diversion"],["transparent","true"]],null,null,null,A.h,A.d)),C._21(114688,null,0,k.l,[k.f],{name:[0,"name"],basemapLayer:[1,"basemapLayer"],url:[2,"url"],layers:[3,"layers"],styles:[4,"styles"],format:[5,"format"],transparent:[6,"transparent"]},null),(l()(),C._43(null,["\n\n  "])),(l()(),C._23(0,null,null,1,"leaflet-wms-layer",[["basemapLayer","false"],["format","image/png"],["layers","pub:WHSE_BASEMAPPING.FWA_WATERSHED_GROUPS_POLY"],["name","FWA Watershed Groups (Scale Dependent)"],["styles","FWA_Watershed_Groups_Outlined,FWA_Watershed_Groups_Labels"],["transparent","true"]],null,null,null,A.h,A.d)),C._21(114688,null,0,k.l,[k.f],{name:[0,"name"],basemapLayer:[1,"basemapLayer"],url:[2,"url"],layers:[3,"layers"],styles:[4,"styles"],format:[5,"format"],transparent:[6,"transparent"]},null),(l()(),C._43(null,["\n\n  "])),(l()(),C._23(0,null,null,1,"leaflet-wms-layer",[["basemapLayer","false"],["format","image/png"],["layers","pub:WHSE_BASEMAPPING.FWA_ASSESSMENT_WATERSHEDS_POLY"],["name","FWA Assessment Watersheds (Scale Dependent)"],["styles","FWA_Assessment_Watersheds_Outlined"],["transparent","true"]],null,null,null,A.h,A.d)),C._21(114688,null,0,k.l,[k.f],{name:[0,"name"],basemapLayer:[1,"basemapLayer"],url:[2,"url"],layers:[3,"layers"],styles:[4,"styles"],format:[5,"format"],transparent:[6,"transparent"]},null),(l()(),C._43(null,["\n\n  "])),(l()(),C._23(0,null,null,1,"leaflet-wms-layer",[["basemapLayer","false"],["format","image/png"],["layers","pub:WHSE_WATER_MANAGEMENT.WLS_WATER_RESOURCE_MGMT_POINT"],["name","Protected Rivers"],["styles","Protected_Rivers_Points"],["transparent","true"]],null,null,null,A.h,A.d)),C._21(114688,null,0,k.l,[k.f],{name:[0,"name"],basemapLayer:[1,"basemapLayer"],url:[2,"url"],layers:[3,"layers"],styles:[4,"styles"],format:[5,"format"],transparent:[6,"transparent"]},null),(l()(),C._43(null,["\n"])),(l()(),C._43(null,["\n\n"])),(l()(),C._23(0,null,null,1,"app-fwa-legend",[],null,null,null,g,rl)),C._21(4243456,null,0,ul,[k.f],null,null),(l()(),C._43(null,["\n"]))],function(l,n){var e=n.component;l(n,2,0);l(n,5,0,"Roads","https://maps.gov.bc.ca/arcgis/rest/services/province/roads_wm/MapServer");l(n,8,0,"Terrain Base Map","https://maps.gov.bc.ca/arcgis/rest/services/province/web_mercator_cache/MapServer");l(n,11,0,"Points of Diversion (Scale Dependent)","false",C._26(1,"",e.bcWmsUrl,"/WHSE_WATER_MANAGEMENT.WLS_POD_LICENCE_SP/ows"),"pub:WHSE_WATER_MANAGEMENT.WLS_POD_LICENCE_SP","Points_of_Diversion","image/png","true");l(n,14,0,"FWA Watershed Groups (Scale Dependent)","false",C._26(1,"",e.bcWmsUrl,"/WHSE_BASEMAPPING.FWA_WATERSHED_GROUPS_POLY/ows"),"pub:WHSE_BASEMAPPING.FWA_WATERSHED_GROUPS_POLY","FWA_Watershed_Groups_Outlined,FWA_Watershed_Groups_Labels","image/png","true");l(n,17,0,"FWA Assessment Watersheds (Scale Dependent)","false",C._26(1,"",e.bcWmsUrl,"/WHSE_BASEMAPPING.FWA_ASSESSMENT_WATERSHEDS_POLY/ows"),"pub:WHSE_BASEMAPPING.FWA_ASSESSMENT_WATERSHEDS_POLY","FWA_Assessment_Watersheds_Outlined","image/png","true");l(n,20,0,"Protected Rivers","false",C._26(1,"",e.bcWmsUrl,"/WHSE_WATER_MANAGEMENT.WLS_WATER_RESOURCE_MGMT_POINT/ows"),"pub:WHSE_WATER_MANAGEMENT.WLS_WATER_RESOURCE_MGMT_POINT","Protected_Rivers_Points","image/png","true")},null)}function b(l){return C._44(0,[(l()(),C._23(0,null,null,1,"app-map",[],null,null,null,S,al)),C._21(4243456,null,0,sl,[N.d,J,Q,k.f],null,null)],null,null)}function y(l){return C._44(0,[(l()(),C._23(0,null,null,23,"bcgov-page",[],null,null,null,M.b,M.a)),C._21(114688,null,0,P.b,[W.a,W.k,R.j,[2,P.c]],null,null),(l()(),C._43(0,["\n  "])),(l()(),C._23(0,null,0,4,"div",[["style","padding: 1px 5px"]],null,null,null,null,null)),(l()(),C._43(null,["\n    "])),(l()(),C._23(0,null,null,1,"app-geographic-name-search",[],null,null,null,t,B)),C._21(4243456,null,0,D,[N.g],null,null),(l()(),C._43(null,["\n  "])),(l()(),C._43(0,["\n  "])),(l()(),C._23(0,null,0,13,"div",[["class","layout-columns"]],null,null,null,null,null)),(l()(),C._43(null,["\n    "])),(l()(),C._23(0,null,null,4,"div",[["class","sideBar"]],null,null,null,null,null)),(l()(),C._43(null,["\n      "])),(l()(),C._23(0,null,null,1,"app-side-bar",[],null,null,null,_,ll)),C._21(114688,null,0,K,[J,Q],null,null),(l()(),C._43(null,["\n    "])),(l()(),C._43(null,["\n    "])),(l()(),C._23(0,null,null,4,"div",[["class","main"]],null,null,null,null,null)),(l()(),C._43(null,["\n     "])),(l()(),C._23(0,null,null,1,"app-map",[],null,null,null,S,al)),C._21(4243456,null,0,sl,[N.d,J,Q,k.f],null,null),(l()(),C._43(null,["\n    "])),(l()(),C._43(null,["\n  "])),(l()(),C._43(0,["\n"]))],function(l,n){l(n,1,0),l(n,14,0)},null)}function w(l){return C._44(0,[(l()(),C._23(0,null,null,1,"app-layout",[],null,null,null,y,dl)),C._21(49152,null,0,L,[],null,null)],null,null)}Object.defineProperty(n,"__esModule",{value:!0});var C=e("/oeL"),E={production:!0},I=(e("YZL7"),e("SmFN"),function(){function l(){}return l}()),L=function(){function l(){}return l}(),O=e("9ntG"),x=[".layout-columns[_ngcontent-%COMP%]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-flex:1;-ms-flex:1;flex:1}.layout-columns[_ngcontent-%COMP%], .layout-columns[_ngcontent-%COMP%] > .sideBar[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}.layout-columns[_ngcontent-%COMP%] > .sideBar[_ngcontent-%COMP%]{-webkit-box-flex:3;-ms-flex:3;flex:3}.layout-columns[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]{-webkit-box-flex:7;-ms-flex:7;flex:7;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-ms-flex-line-pack:stretch;align-content:stretch}.form-group[_ngcontent-%COMP%]{margin-bottom:0}"],M=e("/ooJ"),P=e("pZ2b"),W=e("BkNc"),R=e("fc+i"),A=e("NVUz"),k=e("kLCh"),N=e("CPp0"),D=function(){function l(l){this.http=l}return l.prototype.ngAfterViewInit=function(){var l=this;this.searchComponent&&(this.searchComponent.searchFunction=function(n){return l.search(n)})},l.prototype.search=function(l){var n=new N.k;return n.set("name",l),n.set("minScore","0.7"),n.set("itemsPerPage","10"),n.set("outputSRS","4326"),n.set("embed","0"),n.set("outputStyle","detail"),n.set("outputFormat","jsonx"),n.set("callback","JSONP_CALLBACK"),this.http.get("https://apps.gov.bc.ca/pub/bcgnws/names/soundlike",{search:n}).toPromise().then(function(l){var n=[],e=l.json(),t=e.features;if(t)for(var u=0,i=t;u<i.length;u++){var r=i[u],s=r.properties,o=s.name,a=o,c=s.featureType;if(c){var d=c.indexOf("("),_=c.indexOf(")");-1!==d&&_>d&&(c=c.substring(0,d)+c.substring(_+1)),a+=" ("+c+")"}a+="  "+s.feature.relativeLocation,n.push(new k.h(s.uri,a,s.featurePoint))}return n})},l.ctorParameters=function(){return[{type:N.g}]},l}(),T=[],B=C._20({encapsulation:2,styles:T,data:{}}),F=(C._18("app-geographic-name-search",D,u,{},{},[]),["[_nghost-%COMP%]{-ms-flex:1;flex:1}[_nghost-%COMP%], tabset[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1}tabset[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-ms-flex:1;flex:1}[_nghost-%COMP%]     div.tab-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;overflow-y:auto;padding:1px 2px}[_nghost-%COMP%]     div.tab-content>tab.active{height:0}tr.downstream[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#b22222}tr.onStream[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#00ced1}"]),G=e("qbdv"),j=e("+597"),H=e("1sP3"),U=e("5bcs"),q=e("Fw80"),z=e("Djd0"),Y=e("cqO5"),V=e("rlar"),$=function(){function l(l){this.riverService=l,this.change=new V.Subject,this.downstreamIds=[],this.downstreamRivers=[],this.localWatershedCodeByWatershedCode={},this.upstreamIds=[],this.upstreamRivers=[],this.watershedCode="",this.watershedCodeLocal=""}return Object.defineProperty(l.prototype,"id",{get:function(){return this.river?this.river.feature.properties.id:null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"riverFeature",{get:function(){return this.river?this.river.feature:null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"riversLayer",{get:function(){return this.riverService.riversLayer},enumerable:!0,configurable:!0}),l.prototype.getRiverLocation=function(l){if(this.watershedCode){var n=l.properties;if(1===this.riverService.riverSource){var e=n.id;if(this.id===e)return 0;if(-1!==this.upstreamIds.indexOf(e))return 1;if(-1!==this.downstreamIds.indexOf(e))return-1}else{var t=n.fwawsc,u=n.localwsc;if(this.watershedCode===t)return u===this.watershedCodeLocal?0:u<this.watershedCodeLocal?-1:1;if(this.watershedCode.startsWith(t+"-")){if(u<this.watershedCodeLocal)return-1}else if(t<=this.watershedCodeLocal||t.startsWith(this.watershedCodeLocal+"-"));else if(t.startsWith(this.watershedCode+"-")&&u>this.watershedCodeLocal)return 1}}return null},l.prototype.clear=function(){this.clearDo(),this.riverService.resetStyles(),this.change.next(null)},l.prototype.clearDo=function(){if(this.river){this.river,this.downstreamRivers.slice(0),this.upstreamRivers.slice(0);this.downstreamIds=[],this.downstreamRivers=[],this.localWatershedCodeByWatershedCode={},this.river=null,this.upstreamIds=[],this.upstreamRivers=[],this.watershedCode="",this.watershedCodeLocal=""}},l.prototype.setLocalWatershedCode=function(l){var n=l.properties.fwawsc;this.localWatershedCodeByWatershedCode[n]||(this.localWatershedCodeByWatershedCode[n]=l.properties.localwsc)},l.prototype.setRiver=function(l){if(this.river!==l){if(this.clearDo(),l){this.river=l;var n=l.feature;this.watershedCode=n.properties.fwawsc,this.watershedCodeLocal=n.properties.localwsc,this.setLocalWatershedCode(n),1===this.riverService.riverSource&&(this.upstreamIds=n.properties.a,this.setRiverRelations(this.upstreamRivers,this.upstreamIds,!1),this.downstreamIds=n.properties.d,this.setRiverRelations(this.downstreamRivers,this.downstreamIds,!0))}this.riverService.resetStyles(),this.change.next(l)}},l.prototype.setRiverRelations=function(l,n,e){for(var t=0,u=n;t<u.length;t++){var i=u[t],r=this.riverService.getRiverLayer(i);r&&(l.push(r),e&&this.setLocalWatershedCode(r.feature))}},l.prototype.subscribe=function(l){this.change.subscribe(l)},l}(),J=function(){function l(l,n){this.http=l,this.mapService=n,this.riverLayerById={},this.highlightedRiverLocations=new $(this),this.riverSource=0,this.loadIndex=0,this.selectedRiverLocations=new $(this)}return l.prototype.init=function(){var l=this;this.mapService.withMap(function(n){n.on({click:function(n){return l.selectedRiverLocations.setRiver(null)}}),l.riversLayer=Y.geoJson([],{style:function(n){return l.riverStyle(n)},onEachFeature:function(n,e){l.addRiver(e)}}).on({mouseover:l.riverMouseOver.bind(l),mouseout:l.riverMouseOut.bind(l),click:l.riverClick.bind(l)}).setZIndex(1).addTo(n),l.mapService.addOverlayLayer(l.riversLayer,"FWA Stream Network");var e=function(e){var t=n.getZoom();t>=10?1!==l.riverSource&&(l.riverSource=1,l.clear(),l.loadRivers("https://rawgit.com/IanLaingBCGov/FWA_Visualization/FWA_EMS_Assets/QUES_2O_NET10M.geojson")):t<=9&&2!==l.riverSource&&(l.riverSource=2,l.loadRivers("https://rawgit.com/IanLaingBCGov/FWA_Visualization/FWA_EMS_Assets/FWA_BC_200M.geojson"))};n.on("zoomend",e.bind(l))})},l.prototype.loadRivers=function(l){var n=this,e=++this.loadIndex;this.http.get(l).toPromise().then(function(l){if(e===n.loadIndex){var t=n.riversLayer;n.clear(),t.clearLayers();var u=l.json();t.addData(u)}})},l.prototype.addRiver=function(l){var n=l.feature.properties,e=n.id;this.riverLayerById[e]=l},l.prototype.clear=function(){this.riverLayerById={},this.highlightedRiverLocations.clear()},l.prototype.getRiver=function(l){var n=this.getRiverLayer(l);return n?n.feature:null},l.prototype.getRiverLayer=function(l){return this.riverLayerById[l]},l.prototype.riverClick=function(l){Y.DomEvent.stopPropagation(l);var n=l.layer;this.selectedRiverLocations.setRiver(n)},l.prototype.riverMouseOver=function(l){var n=l.layer;this.highlightedRiverLocations.setRiver(n)},l.prototype.riverMouseOut=function(l){this.highlightedRiverLocations.setRiver(null)},l.prototype.riverStyle=function(l){var n=this.highlightedRiverLocations.getRiverLocation(l);if(0===n)return{color:"Aqua",weight:3};if(1===n)return{color:"Lime",weight:3};if(-1===n)return{color:"Red",weight:3};var e=this.selectedRiverLocations.getRiverLocation(l);return 0===e?{color:"DarkTurquoise",weight:5}:1===e?{color:"LimeGreen",weight:5}:-1===e?{color:"FireBrick",weight:5}:{color:"RoyalBlue",weight:1}},l.prototype.resetStyles=function(){var l=this;this.riversLayer.eachLayer(function(n){return l.riversLayer.resetStyle(n)})},l.ctorParameters=function(){return[{type:N.d},{type:k.f}]},l}(),Z=function(){function l(l,n){this.emsStationService=l,this.riverLocations=n,this.change=new V.Subject,this.downstreamIds=[],this.onStreamIds=[]}return Object.defineProperty(l.prototype,"stationsLayer",{get:function(){return this.emsStationService.emsStationsLayer},enumerable:!0,configurable:!0}),l.prototype.clear=function(){this.clearDo(),this.change.next(null)},l.prototype.clearDo=function(){var l=this.onStreamIds.slice(0);this.onStreamIds=[];var n=this.downstreamIds.slice(0);this.downstreamIds=[];for(var e=0,t=[l,n];e<t.length;e++)for(var u=t[e],i=0,r=u;i<r.length;i++){var s=r[i],o=this.emsStationService.emsStationLayerById[s];o&&this.emsStationService.setStyle(o)}},l.prototype.subscribe=function(l){this.change.subscribe(l)},l.prototype.stationIds=function(){return 0===this.onStreamIds.length?this.downstreamIds:this.onStreamIds.concat(this.downstreamIds)},l.prototype.onStream=function(l){return-1!==this.onStreamIds.indexOf(l)},l.prototype.downstream=function(l){return-1!==this.downstreamIds.indexOf(l)},l.prototype.stationCount=function(){return this.onStreamIds.length+this.downstreamIds.length},l.prototype.setEmsStationsForRiver=function(l){if(this.clearDo(),l){var n=(l.feature.properties.fwawsc,l.feature.properties.localwsc),e=this.emsStationService.emsStationIdsByLocalWatershedCode[n];if(e){this.onStreamIds=e.slice(0);for(var t=0,u=this.onStreamIds;t<u.length;t++){var i=u[t],r=this.emsStationService.emsStationLayerById[i];r&&this.emsStationService.setStyle(r)}}for(var s=n,o=s.lastIndexOf("-");-1!==o;o=s.lastIndexOf("-")){var a=s.substring(0,o),c=this.emsStationService.emsStationIdsByWatershedCode[a];if(c)for(var d=0,_=c;d<_.length;d++){var i=_[d],h=this.emsStationService.localWatershedCodeById[i];if(h===n);else if(h===a||h<s){this.downstreamIds.push(i);var r=this.emsStationService.emsStationLayerById[i];r&&this.emsStationService.setStyle(r)}}s=a}}},l}(),Q=function(){function l(l,n,e){var t=this;this.http=l,this.mapService=n,this.riverService=e,this.emsStationLayerById={},this.emsStationIdsByWatershedCode={},this.emsStationIdsByLocalWatershedCode={},this.emsStationSource=0,this.localWatershedCodeById={},this.nameById={},this.selectedEmsStationChange=new V.Subject,this.watershedCodeById={},this.highlightedEmsStationLocations=new Z(this,e.highlightedRiverLocations),this.selectedEmsStationLocations=new Z(this,e.selectedRiverLocations),this.http.get("https://rawgit.com/IanLaingBCGov/FWA_Visualization/FWA_EMS_Assets/ems_station.json").toPromise().then(function(l){for(var n=0,e=l.json();n<e.length;n++){var u=e[n],i=u[0],r=u[2],s=u[3];s?0===s.indexOf("-")&&(s=r+s):s=r,t.nameById[i]=u[1],t.watershedCodeById[i]=r,t.localWatershedCodeById[i]=s,t.addToList(t.emsStationIdsByWatershedCode,r,i),t.addToList(t.emsStationIdsByLocalWatershedCode,s,i)}})}return l.prototype.addToList=function(l,n,e){var t=l[n];t||(t=l[n]=[]),t.push(e)},l.prototype.addEmsStation=function(l){var n=l.feature.properties,e=n.MONITORING_LOCATION_ID;this.emsStationLayerById[e]=l;n.FWA_WATERSHED_CODE},l.prototype.getEmsStationLayer=function(l){return this.emsStationLayerById[l]},l.prototype.init=function(){var l=this;this.mapService.withMap(function(n){n.on({click:function(n){return l.setSelectedEmsStation(null)}});var e=new k.k({url:"https://openmaps.gov.bc.ca/geo/pub/WHSE_ENVIRONMENTAL_MONITORING.EMS_MONITORING_LOCN_TYPES_SVW/ows",typeName:"WHSE_ENVIRONMENTAL_MONITORING.EMS_MONITORING_LOCN_TYPES_SVW",minZoom:10,pointToLayer:function(n,e){var t=n.properties.MONITORING_LOCATION_ID,u=l.emsStationStyle(t);return new Y.CircleMarker(e,u)},onEachFeature:function(n,e){e.bringToFront(),l.addEmsStation(e)}}).on({click:l.emsStationClick.bind(l),preUpdate:function(){l.emsStationLayerById={},l.highlightedEmsStationLocations.clear()}}).setZIndex(2);l.mapService.addOverlayLayer(new k.m([e],{minZoom:10}),"Environmental Monitoring System Station (new)")}),this.riverService.highlightedRiverLocations.subscribe(function(n){l.highlightedEmsStationLocations.setEmsStationsForRiver(n)}),this.riverService.selectedRiverLocations.subscribe(function(n){l.selectedEmsStationLocations.setEmsStationsForRiver(n)})},l.prototype.emsStationClick=function(l){Y.DomEvent.stopPropagation(l);var n=l.layer.feature;this.setSelectedEmsStation(n)},l.prototype.setSelectedEmsStation=function(l){this.selectedEmsStation=l,this.selectedEmsStationChange.next(this.selectedEmsStation)},l.prototype.setStyle=function(l){var n=l.feature.properties.MONITORING_LOCATION_ID,e=this.emsStationStyle(n);l.setStyle(e)},l.prototype.emsStationStyle=function(l){var n={radius:6,fillColor:"LightYellow",color:"Black",weight:1,opacity:1,fillOpacity:.8};return-1!==this.highlightedEmsStationLocations.onStreamIds.indexOf(l)?(n.fillColor="Aqua",n.weight=2):-1!==this.highlightedEmsStationLocations.downstreamIds.indexOf(l)?(n.fillColor="Red",n.weight=2):-1!==this.selectedEmsStationLocations.onStreamIds.indexOf(l)?(n.fillColor="DarkTurquoise",n.weight=2):-1!==this.selectedEmsStationLocations.downstreamIds.indexOf(l)&&(n.fillColor="FireBrick",n.weight=2),n},l.ctorParameters=function(){return[{type:N.d},{type:k.f},{type:J}]},l}(),K=function(){function l(l,n){var e=this;this.riverService=l,this.emsStationService=n,this.riverService.selectedRiverLocations.subscribe(function(l){e.tabs.tabs[1].disabled=null===l,null==l?e.tabs.tabs[0].active=!0:e.tabs.tabs[1].active=!0}),this.emsStationService.selectedEmsStationChange.subscribe(function(l){e.tabs.tabs[2].disabled=null===l,null==l?e.tabs.tabs[0].active=!0:e.tabs.tabs[2].active=!0})}return Object.defineProperty(l.prototype,"river",{get:function(){return this.riverService.selectedRiverLocations.riverFeature},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"emsStation",{get:function(){return this.emsStationService.selectedEmsStation},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"emsStationId",{get:function(){var l=this.emsStation;if(l)return l.properties.MONITORING_LOCATION_ID},enumerable:!0,configurable:!0}),l.prototype.emsStationName=function(l){return this.emsStationService.nameById[l]},l.prototype.emsStationWatershedCode=function(l){return this.emsStationService.watershedCodeById[l]},l.prototype.emsStationLocalWatershedCode=function(l){return this.emsStationService.localWatershedCodeById[l]},Object.defineProperty(l.prototype,"emsLocations",{get:function(){return this.emsStationService.selectedEmsStationLocations},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){},l.ctorParameters=function(){return[{type:J},{type:Q}]},l}(),X=[F],ll=C._20({encapsulation:0,styles:X,data:{}}),nl=(C._18("app-side-bar",K,h,{},{},[]),["[_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex}[_nghost-%COMP%], leaflet-map[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1;flex:1}"]),el=[".legend-stream[_ngcontent-%COMP%]{stroke:#4169e1;stroke-width:1}.legend-selected-stream[_ngcontent-%COMP%]{stroke:#00ced1;stroke-width:5}.legend-selected-stream-upstream[_ngcontent-%COMP%]{stroke:#32cd32;stroke-width:5}.legend-selected-stream-downstream[_ngcontent-%COMP%]{stroke:#b22222;stroke-width:5}.legend-higlighted-stream[_ngcontent-%COMP%]{stroke:aqua;stroke-width:3}.legend-higlighted-stream-upstream[_ngcontent-%COMP%]{stroke:lime;stroke-width:3}.legend-higlighted-stream-downstream[_ngcontent-%COMP%]{stroke:red;stroke-width:3}.legend-ems-station[_ngcontent-%COMP%]{fill:#ffffe0;stroke:#000}.legend-selected-ems-station[_ngcontent-%COMP%]{fill:#00ced1;stroke:#000}.legend-selected-ems-station-upstream[_ngcontent-%COMP%]{fill:#32cd32;stroke:#000}.legend-selected-ems-station-downstream[_ngcontent-%COMP%]{fill:#b22222;stroke:#000}.legend-higlighted-ems-station[_ngcontent-%COMP%]{fill:aqua;stroke:#000}.legend-higlighted-ems-station-upstream[_ngcontent-%COMP%]{fill:lime;stroke:#000}.legend-higlighted-ems-station-downstream[_ngcontent-%COMP%]{fill:red;stroke:#000}"],tl=(e("82j9"),Y.Control.extend({options:{position:"topleft"},onRemove:function(l){this._container=null},onAdd:function(l){this._map=l;var n=this._container=Y.DomUtil.create("div","leaflet-bar leaflet-control");return this._initToggle(),n},_initToggle:function(){var l=this._container;l.setAttribute("aria-haspopup",!0),Y.Browser.touch?Y.DomEvent.on(l,"click",Y.DomEvent.stopPropagation):Y.DomEvent.disableClickPropagation(l),Y.Browser.android||Y.DomEvent.on(l,"mouseover",this._expand,this).on(l,"mouseout",this._collapse,this);var n=Y.DomUtil.create("a","legend-toggle",l);n.innerHTML='<span class="fa fa-info"></span>',n.href="#",n.title="Legend",n.setAttribute("role","button"),n.setAttribute("aria-label",n.title),Y.DomEvent.disableClickPropagation(n),this._legend=l.appendChild(this.options.legendElement),Y.Browser.touch?Y.DomEvent.on(n,"click",Y.DomEvent.stop).on(n,"click",this._expand,this):Y.DomEvent.on(n,"focus",this._expand,this),this._map.on("click",this._collapse,this)},_expand:function(){this._legend.style.display="block",this._legend.style.position="absolute"},_collapse:function(){this._legend.style.display="none"}})),ul=function(){function l(l){this.mapService=l,this.legend=[["Stream","line","legend-stream"],["Higlighted Stream","line","legend-higlighted-stream"],["Higlighted Stream (Upstream)","line","legend-higlighted-stream-upstream"],["Higlighted Stream (Downstream)","line","legend-higlighted-stream-downstream"],["Selected Stream","line","legend-selected-stream"],["Selected Stream (Upstream)","line","legend-selected-stream-upstream"],["Selected Stream (Downstream)","line","legend-selected-stream-downstream"],["EMS Station","circle","legend-ems-station"],["Higlighted EMS Station","circle","legend-higlighted-ems-station"],["Higlighted EMS Station (Downstream)","circle","legend-higlighted-ems-station-downstream"],["Selected EMS Station","circle","legend-selected-ems-station"],["Selected EMS Station (Downstream)","circle","legend-selected-ems-station-downstream"]]}return l.prototype.ngAfterViewInit=function(){var l=this;this.legendControl=new tl({legendElement:this.legendElement.nativeElement}),this.mapService.withMap(function(n){n.addControl(l.legendControl)})},l.ctorParameters=function(){return[{type:k.f}]},l}(),il=[el],rl=C._20({encapsulation:0,styles:il,data:{}}),sl=(C._18("app-fwa-legend",ul,v,{},{},[]),function(){function l(l,n,e,t){this.http=l,this.riverService=n,this.emsStationService=e,this.mapService=t,this.bcArcGisRestUrl="https://maps.gov.bc.ca/arcgis/rest/services",this.bcWmsUrl="https://openmaps.gov.bc.ca/geo/pub",this.legend=[["Stream","line","legend-stream"],["Selected Stream","line","legend-selected-stream"],["Selected Stream (Upstream)","line","legend-selected-stream-upstream"],["Selected Stream (Downstream)","line","legend-selected-stream-downstream"],["Higlighted Stream","line","legend-higlighted-stream"],["Higlighted Stream (Upstream)","line","legend-higlighted-stream-upstream"],["Higlighted Stream (Downstream)","line","legend-higlighted-stream-downstream"],["EMS Station","circle","legend-ems-station"],["Selected EMS Station","circle","legend-selected-ems-station"],["Selected EMS Station (Downstream)","circle","legend-selected-ems-station-downstream"],["Higlighted EMS Station","circle","legend-higlighted-ems-station"],["Higlighted EMS Station (Downstream)","circle","legend-higlighted-ems-station-downstream"]]}return l.prototype.ngAfterViewInit=function(){Y.Icon.Default.imagePath="/",Y.Icon.Default.mergeOptions({iconRetinaUrl:"assets/marker-icon-2x.png",iconUrl:"assets/marker-icon.png",shadowUrl:"assets/marker-shadow.png"}),this.riverService.init(),this.emsStationService.init(),this.tempLayersInit()},l.prototype.tempLayersInit=function(){this.mapService.withMap(function(l){var n=[52.513437,-121.596309];new Y.CircleMarker(n,{title:"Mt. Polley Mine",weight:7}).addTo(l).bindPopup("Mt. Polley Mine").openPopup(),l.setView(n,10)})},l.ctorParameters=function(){return[{type:N.d},{type:J},{type:Q},{type:k.f}]},l}()),ol=[nl],al=C._20({encapsulation:0,styles:ol,data:{}}),cl=(C._18("app-map",sl,b,{},{},[]),[x]),dl=C._20({encapsulation:0,styles:cl,data:{}}),_l=C._18("app-layout",L,w,{},{},[]),hl=e("bm2B"),pl=e("l6RC"),ml=e("BhHz"),fl=e("poDJ"),gl=function(){function l(){}return l}(),vl=e("yroR"),Sl=e("8zL4"),bl=e("j5BN"),yl=e("vgc3"),wl=C._19(I,[L],function(l){return C._34([C._35(512,C.m,C._15,[[8,[O.a,_l]],[3,C.m],C.H]),C._35(5120,C.D,C._33,[[3,C.D]]),C._35(4608,G.l,G.k,[C.D]),C._35(5120,C.c,C._24,[]),C._35(5120,C.B,C._30,[]),C._35(5120,C.C,C._31,[]),C._35(6144,C.U,null,[R.c]),C._35(4608,R.f,R.g,[]),C._35(5120,R.d,function(l,n,e,t){return[new R.l(l),new R.p(n),new R.o(e,t)]},[G.c,G.c,G.c,R.f]),C._35(4608,R.e,R.e,[R.d,C.J]),C._35(135680,R.n,R.n,[G.c]),C._35(4608,R.m,R.m,[R.e,R.n]),C._35(6144,C.S,null,[R.m]),C._35(6144,R.q,null,[R.n]),C._35(4608,C._1,C._1,[C.J]),C._35(4608,R.h,R.h,[G.c]),C._35(4608,R.j,R.j,[G.c]),C._35(4608,hl.n,hl.n,[]),C._35(4608,N.r,N.r,[]),C._35(4608,N.f,N.n,[N.r,N.j]),C._35(5120,N.g,N.q,[N.f,N.i]),C._35(5120,W.a,W.w,[W.k]),C._35(4608,W.d,W.d,[]),C._35(6144,W.f,null,[W.d]),C._35(135680,W.o,W.o,[W.k,C.G,C.k,C.z,W.f]),C._35(4608,W.e,W.e,[]),C._35(5120,W.h,W.z,[W.x]),C._35(5120,C.b,function(l){return[l]},[W.h]),C._35(6144,pl.b,null,[R.b]),C._35(4608,pl.c,pl.c,[[2,pl.b]]),C._35(4608,ml.a,ml.a,[]),C._35(4608,fl.a,fl.a,[C.m,C.J,C.z,ml.a,C.g]),C._35(4608,U.a,U.a,[]),C._35(4608,k.f,k.f,[N.d]),C._35(4608,J,J,[N.d,k.f]),C._35(4608,Q,Q,[N.d,k.f,J]),C._35(512,G.b,G.b,[]),C._35(1024,C.r,R.r,[]),C._35(1024,C.I,function(){return[W.s()]},[]),C._35(512,W.x,W.x,[C.z]),C._35(1024,C.d,function(l,n,e){return[R.s(l,n),W.y(e)]},[[2,R.i],[2,C.I],W.x]),C._35(512,C.e,C.e,[[2,C.d]]),C._35(131584,C._22,C._22,[C.J,C._16,C.z,C.r,C.m,C.e]),C._35(2048,C.g,null,[C._22]),C._35(512,C.f,C.f,[C.g]),C._35(512,R.a,R.a,[[3,R.a]]),C._35(512,hl.m,hl.m,[]),C._35(512,hl.e,hl.e,[]),C._35(512,N.e,N.e,[]),C._35(512,N.h,N.h,[]),C._35(1024,W.r,W.u,[[3,W.k]]),C._35(512,W.q,W.c,[]),C._35(512,W.b,W.b,[]),C._35(256,W.g,{},[]),C._35(1024,G.g,W.t,[G.o,[2,G.a],W.g]),C._35(512,G.f,G.f,[G.g]),C._35(512,C.k,C.k,[]),C._35(512,C.G,C.Y,[C.k,[2,C.Z]]),C._35(1024,W.i,function(){return[[]]},[]),C._35(1024,W.k,W.v,[C.g,W.q,W.b,G.f,C.z,C.G,C.k,W.i,W.g,[2,W.p],[2,W.j]]),C._35(512,W.n,W.n,[[2,W.r],[2,W.k]]),C._35(512,gl,gl,[]),C._35(512,vl.a,vl.a,[]),C._35(512,Sl.a,Sl.a,[]),C._35(512,bl.a,bl.a,[]),C._35(512,pl.a,pl.a,[]),C._35(256,bl.c,!0,[]),C._35(512,bl.d,bl.d,[[2,R.b],[2,bl.c]]),C._35(512,yl.c,yl.c,[]),C._35(512,N.c,N.c,[]),C._35(512,N.j,N.b,[]),C._35(1024,N.m,N.o,[]),C._35(512,N.l,N.l,[N.c,N.j,N.m]),C._35(512,N.i,N.a,[]),C._35(1024,N.d,N.p,[N.l,N.i]),C._35(512,R.c,R.t,[G.c]),C._35(1024,yl.d,yl.a,[[3,yl.d],[2,N.d],R.c]),C._35(512,P.a,P.a,[yl.d]),C._35(512,k.g,k.g,[]),C._35(512,I,I,[]),C._35(256,P.c,{basePath:"/",title:"FWA Streams and EMS Stations",fullWidthContent:!0},[])])});E.production&&Object(C._9)(),Object(R.k)().bootstrapModuleFactory(wl)},gFIY:function(l,n){function e(l){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+l+"'.")})}e.keys=function(){return[]},e.resolve=e,l.exports=e,e.id="gFIY"}},[0]);